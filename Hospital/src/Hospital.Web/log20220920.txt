2022-09-20 17:32:42.789 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:32:44.101 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:32:44.374 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:32:44.401 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:32:44.596 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:32:44.769 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:32:44.769 +02:00 [INF] Hosting environment: Development
2022-09-20 17:32:44.769 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:32:44.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:32:44.915 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:32:44.960 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:32:44.966 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:32:44.975 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:32:45.328 +02:00 [INF] Executed ViewResult - view Index executed in 353.8838ms.
2022-09-20 17:32:45.331 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 363.7607ms
2022-09-20 17:32:45.331 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:32:45.382 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 549.1237ms
2022-09-20 17:32:45.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/css/bootstrap.min.css - -
2022-09-20 17:32:45.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/css/site.css?v=AKvNjO3dCPPS0eSU1Ez8T2wI280i08yGycV9ndytL-c - -
2022-09-20 17:32:45.405 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/Hospital.Web.styles.css?v=ncTY01NDyI1j0NW2ViIscDf5BGw24UI-KMr2Ujh-eBE - -
2022-09-20 17:32:45.411 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2022-09-20 17:32:45.411 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2022-09-20 17:32:45.413 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/lib/jquery/dist/jquery.min.js - -
2022-09-20 17:32:45.416 +02:00 [INF] Sending file. Request path: '/Hospital.Web.styles.css'. Physical path: 'C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\obj\Debug\net6.0\scopedcss\bundle\Hospital.Web.styles.css'
2022-09-20 17:32:45.416 +02:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\wwwroot\css\site.css'
2022-09-20 17:32:45.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/Hospital.Web.styles.css?v=ncTY01NDyI1j0NW2ViIscDf5BGw24UI-KMr2Ujh-eBE - - - 200 1129 text/css 11.2429ms
2022-09-20 17:32:45.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/css/site.css?v=AKvNjO3dCPPS0eSU1Ez8T2wI280i08yGycV9ndytL-c - - - 200 194 text/css 15.3014ms
2022-09-20 17:32:45.418 +02:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\wwwroot\js\site.js'
2022-09-20 17:32:45.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 7.6474ms
2022-09-20 17:32:45.419 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:32:45.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.5281ms
2022-09-20 17:32:45.427 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2022-09-20 17:32:45.434 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 162726 text/css 34.4742ms
2022-09-20 17:32:45.445 +02:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2022-09-20 17:32:45.448 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78474 application/javascript 36.5034ms
2022-09-20 17:32:45.479 +02:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\wwwroot\lib\jquery\dist\jquery.min.js'
2022-09-20 17:32:45.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/lib/jquery/dist/jquery.min.js - - - 200 89478 application/javascript 69.4291ms
2022-09-20 17:32:45.526 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:32:45.585 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.3188ms
2022-09-20 17:32:47.248 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger - -
2022-09-20 17:32:47.252 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger - - - 301 - - 3.7891ms
2022-09-20 17:32:47.257 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:32:47.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 46.0874ms
2022-09-20 17:32:47.321 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/swagger-ui.css - -
2022-09-20 17:32:47.321 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/swagger-ui-bundle.js - -
2022-09-20 17:32:47.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/swagger-ui-standalone-preset.js - -
2022-09-20 17:32:47.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:32:47.323 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 0.9949ms
2022-09-20 17:32:47.328 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-20 17:32:47.331 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-09-20 17:32:47.332 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/swagger-ui.css - - - 200 143943 text/css 11.0754ms
2022-09-20 17:32:47.340 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-09-20 17:32:47.344 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 21.8406ms
2022-09-20 17:32:47.369 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:32:47.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/swagger-ui-bundle.js - - - 200 1095087 application/javascript 56.8311ms
2022-09-20 17:32:47.399 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.6689ms
2022-09-20 17:32:47.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/favicon-32x32.png - -
2022-09-20 17:32:47.616 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-09-20 17:32:47.617 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/favicon-32x32.png - - - 200 628 image/png 3.0247ms
2022-09-20 17:32:47.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:32:47.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.7866ms
2022-09-20 17:32:54.113 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/5 application/json-patch+json 49
2022-09-20 17:32:54.114 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 17:32:54.130 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:32:54.675 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:32:59.587 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Department] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-09-20 17:32:59.630 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 5500.4809ms
2022-09-20 17:32:59.631 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 17:32:59.631 +02:00 [ERR] The entity of type Department] with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department] with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 59
   at PatientManagement.Core.CQRS.Department.Handlers.UpdateDepartmentCommandHandler.Handle(UpdateDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\UpdateDepartmentCommandHandler.cs:line 24
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.UpdateDepartment(UpdateDepartmentRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:32:59.815 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/5 application/json-patch+json 49 - 404 - application/json 5701.2834ms
2022-09-20 17:36:33.358 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:36:35.007 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:36:35.280 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:36:35.342 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:36:35.828 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:36:36.010 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:36:36.010 +02:00 [INF] Hosting environment: Development
2022-09-20 17:36:36.010 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:36:36.061 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:36:36.163 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:36:36.220 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:36:36.233 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:36:36.246 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:36:36.570 +02:00 [INF] Executed ViewResult - view Index executed in 321.208ms.
2022-09-20 17:36:36.580 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 346.2965ms
2022-09-20 17:36:36.581 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:36:36.680 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 624.8981ms
2022-09-20 17:36:36.895 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:36:36.897 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:36:36.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 8.5795ms
2022-09-20 17:36:36.962 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.1024ms
2022-09-20 17:36:38.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:36:38.201 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 119.8227ms
2022-09-20 17:36:38.218 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:36:38.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 2.4498ms
2022-09-20 17:36:38.278 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:36:38.321 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.2622ms
2022-09-20 17:36:38.735 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:36:38.934 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.3158ms
2022-09-20 17:36:45.828 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/111 application/json-patch+json 49
2022-09-20 17:36:45.830 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 17:36:45.857 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:36:46.574 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:36:47.941 +02:00 [INF] Executed DbCommand (409ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Department] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-09-20 17:40:22.559 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:40:23.925 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:40:24.104 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:40:24.152 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:40:24.601 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:40:24.732 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:40:24.732 +02:00 [INF] Hosting environment: Development
2022-09-20 17:40:24.732 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:40:24.777 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:40:24.869 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:40:24.919 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:40:24.928 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:40:24.938 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:40:25.189 +02:00 [INF] Executed ViewResult - view Index executed in 250.1215ms.
2022-09-20 17:40:25.198 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 269.1403ms
2022-09-20 17:40:25.199 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:40:25.283 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 511.0519ms
2022-09-20 17:40:25.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:40:25.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:40:25.475 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.2120ms
2022-09-20 17:40:25.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.6832ms
2022-09-20 17:44:19.613 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:44:20.503 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:44:20.588 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:44:20.597 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:44:20.838 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:44:20.905 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:44:20.905 +02:00 [INF] Hosting environment: Development
2022-09-20 17:44:20.905 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:44:20.922 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:44:20.973 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:44:21.020 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:44:21.027 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:44:21.033 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:44:21.148 +02:00 [INF] Executed ViewResult - view Index executed in 114.1992ms.
2022-09-20 17:44:21.152 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 124.229ms
2022-09-20 17:44:21.152 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:44:21.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 267.4787ms
2022-09-20 17:44:21.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:44:21.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.4534ms
2022-09-20 17:44:21.419 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:44:21.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.1861ms
2022-09-20 17:44:22.838 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:44:22.890 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 51.1632ms
2022-09-20 17:44:22.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:44:22.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.5045ms
2022-09-20 17:44:22.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:44:22.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.5802ms
2022-09-20 17:44:23.203 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:44:23.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.1528ms
2022-09-20 17:44:27.774 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/10 - -
2022-09-20 17:44:27.774 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:44:27.795 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:44:28.072 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:44:29.455 +02:00 [INF] Executed DbCommand (302ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:44:29.482 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 1687.0591ms
2022-09-20 17:44:29.482 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:44:29.483 +02:00 [ERR] One or more validation errors occurred
PatientManagement.Core.Validators.Exceptions.ValidationException: One or more validation errors occurred
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 39
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:44:29.516 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/10 - - - 422 - application/json 1742.5074ms
2022-09-20 17:46:48.742 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:46:49.627 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:46:49.702 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:46:49.712 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:46:49.925 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:46:50.002 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:46:50.002 +02:00 [INF] Hosting environment: Development
2022-09-20 17:46:50.002 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:46:50.021 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:46:50.077 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:46:50.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:46:50.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:46:50.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.4804ms
2022-09-20 17:46:50.257 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 239.6192ms
2022-09-20 17:46:50.294 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.4468ms
2022-09-20 17:46:50.867 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:46:51.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.0141ms
2022-09-20 17:46:55.133 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/10 - -
2022-09-20 17:46:55.137 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:46:55.162 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:46:55.442 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:46:56.792 +02:00 [INF] Executed DbCommand (300ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:46:56.824 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 1656.9726ms
2022-09-20 17:46:56.824 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:46:56.825 +02:00 [ERR] Value cannot be null. (Parameter 'entity')
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at PatientManagement.Data.GenericRepository`1.DeleteAsync(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 28
   at PatientManagement.Core.CQRS.Department.Handlers.DeleteDepartmentCommandHandler.Handle(DeleteDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\DeleteDepartmentCommandHandler.cs:line 22
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:46:56.888 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/10 - - - 500 - application/json 1755.5076ms
2022-09-20 17:47:16.847 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/100 application/json-patch+json 49
2022-09-20 17:47:16.849 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 17:47:16.853 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:47:16.996 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:47:17.245 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Department] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-09-20 17:47:17.267 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 413.749ms
2022-09-20 17:47:17.267 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 17:47:17.268 +02:00 [ERR] The entity of type Department] with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department] with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 67
   at PatientManagement.Core.CQRS.Department.Handlers.UpdateDepartmentCommandHandler.Handle(UpdateDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\UpdateDepartmentCommandHandler.cs:line 24
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.UpdateDepartment(UpdateDepartmentRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:47:17.272 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/100 application/json-patch+json 49 - 404 - application/json 424.2326ms
2022-09-20 17:47:26.236 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Room/101 application/json-patch+json 42
2022-09-20 17:47:26.236 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.RoomController.UpdateRoom (Hospital.Web)'
2022-09-20 17:47:26.239 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(PatientManagement.Core.CQRS.Room.Requests.UpdateRoomRequest, Int32) on controller Hospital.Web.Api.RoomController (Hospital.Web).
2022-09-20 17:47:26.267 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:47:26.295 +02:00 [INF] Executed action Hospital.Web.Api.RoomController.UpdateRoom (Hospital.Web) in 55.7067ms
2022-09-20 17:47:26.295 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.RoomController.UpdateRoom (Hospital.Web)'
2022-09-20 17:47:26.296 +02:00 [ERR] One or more validation errors occurred
PatientManagement.Core.Validators.Exceptions.ValidationException: One or more validation errors occurred
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 39
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.RoomController.UpdateRoom(UpdateRoomRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\RoomController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:47:26.299 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Room/101 application/json-patch+json 42 - 422 - application/json 62.4379ms
2022-09-20 17:47:37.214 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Room/101 application/json-patch+json 44
2022-09-20 17:47:37.214 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.RoomController.UpdateRoom (Hospital.Web)'
2022-09-20 17:47:37.214 +02:00 [INF] Route matched with {action = "UpdateRoom", controller = "Room", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateRoom(PatientManagement.Core.CQRS.Room.Requests.UpdateRoomRequest, Int32) on controller Hospital.Web.Api.RoomController (Hospital.Web).
2022-09-20 17:47:37.218 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:47:37.263 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Rooms] SET [RoomNumber] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-09-20 17:47:37.266 +02:00 [INF] Executed action Hospital.Web.Api.RoomController.UpdateRoom (Hospital.Web) in 51.1941ms
2022-09-20 17:47:37.266 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.RoomController.UpdateRoom (Hospital.Web)'
2022-09-20 17:47:37.266 +02:00 [ERR] The entity of type Room] with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Room] with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 67
   at PatientManagement.Core.CQRS.Room.Handlers.UpdateRoomCommandHandler.Handle(UpdateRoomCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Room\Handlers\UpdateRoomCommandHandler.cs:line 23
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.RoomController.UpdateRoom(UpdateRoomRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\RoomController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:47:37.268 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Room/101 application/json-patch+json 44 - 404 - application/json 54.8512ms
2022-09-20 17:48:41.023 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:48:41.908 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:48:42.009 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:48:42.021 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:48:42.236 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:48:42.307 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:48:42.307 +02:00 [INF] Hosting environment: Development
2022-09-20 17:48:42.307 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:48:42.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:48:42.376 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:48:42.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 210.7293ms
2022-09-20 17:48:42.539 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:48:42.540 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:48:42.545 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.3254ms
2022-09-20 17:48:42.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.7083ms
2022-09-20 17:48:43.118 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:48:43.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 129.1019ms
2022-09-20 17:48:47.978 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/010 - -
2022-09-20 17:48:47.984 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:48:48.010 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:48:48.327 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:48:49.342 +02:00 [INF] Executed DbCommand (303ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:48:49.375 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 1360.2213ms
2022-09-20 17:48:49.375 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:48:49.376 +02:00 [ERR] The entity of type RuntimeType with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type RuntimeType with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.DeleteAsync(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 31
   at PatientManagement.Core.CQRS.Department.Handlers.DeleteDepartmentCommandHandler.Handle(DeleteDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\DeleteDepartmentCommandHandler.cs:line 22
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:48:49.420 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/010 - - - 404 - application/json 1442.0063ms
2022-09-20 17:50:23.573 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:50:25.382 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:50:25.556 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:50:25.602 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:50:26.071 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:50:26.209 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:50:26.209 +02:00 [INF] Hosting environment: Development
2022-09-20 17:50:26.209 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:50:26.250 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:50:26.336 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:50:26.383 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:50:26.391 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:50:26.407 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:50:26.656 +02:00 [INF] Executed ViewResult - view Index executed in 253.2121ms.
2022-09-20 17:50:26.667 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 274.2859ms
2022-09-20 17:50:26.668 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:50:26.784 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 536.4815ms
2022-09-20 17:50:27.056 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:50:27.065 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:50:27.070 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 12.4458ms
2022-09-20 17:50:27.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 93.6578ms
2022-09-20 17:50:29.193 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:50:29.287 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 94.1198ms
2022-09-20 17:50:29.296 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:50:29.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.2522ms
2022-09-20 17:50:29.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:50:29.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.8512ms
2022-09-20 17:50:29.602 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:50:29.808 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.8329ms
2022-09-20 17:50:35.693 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/111 - -
2022-09-20 17:50:35.694 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:50:35.711 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:50:36.151 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:50:37.893 +02:00 [INF] Executed DbCommand (351ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:50:56.004 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 20292.7779ms
2022-09-20 17:50:56.004 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:54:25.360 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:54:26.303 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:54:26.391 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:54:26.402 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:54:26.596 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:54:26.657 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:54:26.657 +02:00 [INF] Hosting environment: Development
2022-09-20 17:54:26.657 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:54:26.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:54:26.732 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:54:26.790 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:54:26.799 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:54:26.806 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:54:26.944 +02:00 [INF] Executed ViewResult - view Index executed in 138.0683ms.
2022-09-20 17:54:26.947 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 147.2308ms
2022-09-20 17:54:26.947 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:54:26.978 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 306.1035ms
2022-09-20 17:54:26.989 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:54:26.994 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.1704ms
2022-09-20 17:54:27.094 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:54:27.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.5086ms
2022-09-20 17:54:31.684 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:54:31.728 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 44.1119ms
2022-09-20 17:54:31.751 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:54:31.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.7658ms
2022-09-20 17:54:31.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:54:31.811 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.3378ms
2022-09-20 17:54:32.064 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:54:32.170 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.8175ms
2022-09-20 17:54:37.139 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/1221 - -
2022-09-20 17:54:37.139 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:54:37.157 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:54:37.431 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:54:38.464 +02:00 [INF] Executed DbCommand (309ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:54:38.494 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 1336.6514ms
2022-09-20 17:54:38.495 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:54:38.495 +02:00 [ERR] Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetOrCreateEntry(Object entity, IEntityType entityType)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at PatientManagement.Data.GenericRepository`1.DeleteAsync(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 31
   at PatientManagement.Core.CQRS.Department.Handlers.DeleteDepartmentCommandHandler.Handle(DeleteDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\DeleteDepartmentCommandHandler.cs:line 22
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:54:38.539 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/1221 - - - 500 - application/json 1400.0553ms
2022-09-20 17:55:09.564 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:55:10.921 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:55:11.071 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:55:11.108 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:55:11.508 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:55:11.630 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:55:11.631 +02:00 [INF] Hosting environment: Development
2022-09-20 17:55:11.631 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:55:11.670 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:55:11.766 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:55:11.824 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:55:11.835 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:55:11.847 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:55:12.124 +02:00 [INF] Executed ViewResult - view Index executed in 277.1973ms.
2022-09-20 17:55:12.132 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 296.1386ms
2022-09-20 17:55:12.133 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:55:12.214 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 547.8932ms
2022-09-20 17:55:12.435 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:55:12.435 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:55:12.445 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.3610ms
2022-09-20 17:55:12.480 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.8860ms
2022-09-20 17:55:14.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:55:14.350 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 84.4293ms
2022-09-20 17:55:14.363 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:55:14.366 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.9754ms
2022-09-20 17:55:14.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:55:14.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.9586ms
2022-09-20 17:55:14.659 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:55:14.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.3348ms
2022-09-20 17:55:19.720 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/121 - -
2022-09-20 17:55:19.721 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:55:19.739 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:55:20.224 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:55:21.959 +02:00 [INF] Executed DbCommand (366ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:56:45.083 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:56:46.369 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:56:46.510 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:56:46.535 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:56:46.938 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:56:47.048 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:56:47.048 +02:00 [INF] Hosting environment: Development
2022-09-20 17:56:47.048 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:56:47.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:56:47.161 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:56:47.220 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:56:47.231 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:56:47.241 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:56:47.462 +02:00 [INF] Executed ViewResult - view Index executed in 222.0077ms.
2022-09-20 17:56:47.469 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 237.5748ms
2022-09-20 17:56:47.470 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:56:47.538 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 458.1974ms
2022-09-20 17:56:47.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:56:47.716 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:56:47.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.7917ms
2022-09-20 17:56:47.776 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.6348ms
2022-09-20 17:56:49.105 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:56:49.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 80.5482ms
2022-09-20 17:56:49.200 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:56:49.201 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 1.7284ms
2022-09-20 17:56:49.237 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:56:49.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.8795ms
2022-09-20 17:56:49.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:56:49.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.7389ms
2022-09-20 17:56:55.100 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/423 - -
2022-09-20 17:56:55.102 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:56:55.125 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:56:55.542 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:56:57.291 +02:00 [INF] Executed DbCommand (424ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:57:51.195 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 17:57:52.064 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:57:52.144 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 17:57:52.154 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 17:57:52.354 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 17:57:52.412 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 17:57:52.413 +02:00 [INF] Hosting environment: Development
2022-09-20 17:57:52.413 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 17:57:52.431 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/ - -
2022-09-20 17:57:52.491 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 17:57:52.535 +02:00 [INF] Executing endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:57:52.544 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller Hospital.Web.Controllers.HomeController (Hospital.Web).
2022-09-20 17:57:52.552 +02:00 [INF] Executing ViewResult, running view Index.
2022-09-20 17:57:52.688 +02:00 [INF] Executed ViewResult - view Index executed in 136.8112ms.
2022-09-20 17:57:52.691 +02:00 [INF] Executed action Hospital.Web.Controllers.HomeController.Index (Hospital.Web) in 147.2935ms
2022-09-20 17:57:52.692 +02:00 [INF] Executed endpoint 'Hospital.Web.Controllers.HomeController.Index (Hospital.Web)'
2022-09-20 17:57:52.726 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/ - - - 200 - text/html;+charset=utf-8 298.5234ms
2022-09-20 17:57:52.737 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:57:52.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.0473ms
2022-09-20 17:57:52.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:57:52.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.5451ms
2022-09-20 17:57:54.490 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 17:57:54.548 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 57.6586ms
2022-09-20 17:57:54.572 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 17:57:54.578 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.2116ms
2022-09-20 17:57:54.620 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 17:57:54.653 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.6164ms
2022-09-20 17:57:54.895 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 17:57:55.060 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 164.5622ms
2022-09-20 17:58:00.502 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/4324 - -
2022-09-20 17:58:00.503 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:58:00.517 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 17:58:00.821 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 17:58:01.386 +02:00 [INF] Executed DbCommand (222ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 17:58:01.410 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 892.7721ms
2022-09-20 17:58:01.411 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 17:58:01.411 +02:00 [ERR] The entity of type Department with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.DeleteAsync(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 33
   at PatientManagement.Core.CQRS.Department.Handlers.DeleteDepartmentCommandHandler.Handle(DeleteDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\DeleteDepartmentCommandHandler.cs:line 22
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 17:58:01.465 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/4324 - - - 404 - application/json 962.9040ms
2022-09-20 18:03:04.502 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 18:03:05.359 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 18:03:05.436 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 18:03:05.446 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 18:03:05.625 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 18:03:05.683 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 18:03:05.684 +02:00 [INF] Hosting environment: Development
2022-09-20 18:03:05.684 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 18:03:05.701 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 18:03:05.756 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 18:03:05.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 18:03:05.915 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 18:03:05.918 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 220.3333ms
2022-09-20 18:03:05.924 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.7714ms
2022-09-20 18:03:05.953 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.8618ms
2022-09-20 18:03:06.340 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 18:03:06.455 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 115.2803ms
2022-09-20 18:03:11.990 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/12152 - -
2022-09-20 18:03:11.993 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 18:03:12.015 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:03:12.286 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:03:12.660 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 18:03:12.689 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 669.9621ms
2022-09-20 18:03:12.690 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 18:03:12.690 +02:00 [ERR] The entity of type Department with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.DeleteAsync(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 33
   at PatientManagement.Core.CQRS.Department.Handlers.DeleteDepartmentCommandHandler.Handle(DeleteDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\DeleteDepartmentCommandHandler.cs:line 22
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 18:03:12.750 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/12152 - - - 404 - application/json 760.0715ms
2022-09-20 18:03:19.149 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/12 application/json-patch+json 49
2022-09-20 18:03:19.150 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:03:19.155 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:03:19.317 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:03:19.353 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 18:03:19.356 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 200.4175ms
2022-09-20 18:03:19.356 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:03:19.357 +02:00 [ERR] The entity of type Department with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 62
   at PatientManagement.Core.CQRS.Department.Handlers.UpdateDepartmentCommandHandler.Handle(UpdateDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\UpdateDepartmentCommandHandler.cs:line 24
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.UpdateDepartment(UpdateDepartmentRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 18:03:19.360 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/12 application/json-patch+json 49 - 404 - application/json 211.1087ms
2022-09-20 18:03:24.865 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/1 application/json-patch+json 49
2022-09-20 18:03:24.866 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:03:24.866 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:03:24.878 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:03:24.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 18:03:24.956 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 89.5499ms
2022-09-20 18:03:24.956 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:03:24.956 +02:00 [ERR] The instance of entity type 'Department' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
System.InvalidOperationException: The instance of entity type 'Department' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 64
   at PatientManagement.Core.CQRS.Department.Handlers.UpdateDepartmentCommandHandler.Handle(UpdateDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\UpdateDepartmentCommandHandler.cs:line 24
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.UpdateDepartment(UpdateDepartmentRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 18:03:24.960 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/1 application/json-patch+json 49 - 500 - application/json 94.8780ms
2022-09-20 18:04:49.585 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 18:04:50.508 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 18:04:50.580 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 18:04:50.589 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 18:04:50.768 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 18:04:50.828 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 18:04:50.828 +02:00 [INF] Hosting environment: Development
2022-09-20 18:04:50.828 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 18:04:50.844 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 18:04:50.891 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 18:04:51.045 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 18:04:51.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 18:04:51.050 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 208.7911ms
2022-09-20 18:04:51.051 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 4.0308ms
2022-09-20 18:04:51.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.3840ms
2022-09-20 18:04:51.420 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 18:04:51.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.8220ms
2022-09-20 18:04:55.579 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/1 application/json-patch+json 49
2022-09-20 18:04:55.583 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:04:55.605 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:04:55.955 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:04:56.357 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 18:04:56.440 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 828.7474ms
2022-09-20 18:04:56.441 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:04:56.441 +02:00 [ERR] The instance of entity type 'Department' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
System.InvalidOperationException: The instance of entity type 'Department' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 64
   at PatientManagement.Core.CQRS.Department.Handlers.UpdateDepartmentCommandHandler.Handle(UpdateDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\UpdateDepartmentCommandHandler.cs:line 24
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.UpdateDepartment(UpdateDepartmentRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 18:04:56.481 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/1 application/json-patch+json 49 - 500 - application/json 901.0706ms
2022-09-20 18:10:37.410 +02:00 [INF] User profile is available. Using 'C:\Users\mmaat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-20 18:10:38.304 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 18:10:38.389 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2022-09-20 18:10:38.398 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-20 18:10:38.598 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ToDoItems" AS "t")
2022-09-20 18:10:38.664 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-20 18:10:38.664 +02:00 [INF] Hosting environment: Development
2022-09-20 18:10:38.664 +02:00 [INF] Content root path: C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\
2022-09-20 18:10:38.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/index.html - -
2022-09-20 18:10:38.732 +02:00 [WRN] Failed to determine the https port for redirect.
2022-09-20 18:10:38.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_vs/browserLink - -
2022-09-20 18:10:38.892 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - -
2022-09-20 18:10:38.897 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.8314ms
2022-09-20 18:10:38.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/index.html - - - 200 - text/html;charset=utf-8 219.8636ms
2022-09-20 18:10:38.932 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.5781ms
2022-09-20 18:10:39.439 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - -
2022-09-20 18:10:39.553 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:57678/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 114.3234ms
2022-09-20 18:10:43.390 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/1 application/json-patch+json 49
2022-09-20 18:10:43.394 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:10:43.416 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:10:43.783 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:10:44.251 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Department] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-09-20 18:10:44.294 +02:00 [INF] Executing OkObjectResult, writing value of type 'PatientManagement.Core.CQRS.Department.Responses.DepartmentResponse'.
2022-09-20 18:10:44.329 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 908.794ms
2022-09-20 18:10:44.329 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:10:44.331 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/1 application/json-patch+json 49 - 200 47 application/json;+charset=utf-8 941.2456ms
2022-09-20 18:10:47.314 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:57678/api/Department/132 application/json-patch+json 49
2022-09-20 18:10:47.316 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:10:47.317 +02:00 [INF] Route matched with {action = "UpdateDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDepartment(PatientManagement.Core.CQRS.Department.Requests.UpdateDepartmentRequest, Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:10:47.362 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:10:47.366 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Department] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-09-20 18:10:47.376 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web) in 59.1882ms
2022-09-20 18:10:47.376 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.UpdateDepartment (Hospital.Web)'
2022-09-20 18:10:47.377 +02:00 [ERR] The entity of type Department] with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department] with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.UpdateAsync(TEntity entity) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 70
   at PatientManagement.Core.CQRS.Department.Handlers.UpdateDepartmentCommandHandler.Handle(UpdateDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\UpdateDepartmentCommandHandler.cs:line 24
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 42
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.UpdateDepartment(UpdateDepartmentRequest request, Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 18:10:47.431 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:57678/api/Department/132 application/json-patch+json 49 - 404 - application/json 116.6713ms
2022-09-20 18:10:52.638 +02:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:57678/api/Department/3213 - -
2022-09-20 18:10:52.638 +02:00 [INF] Executing endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 18:10:52.641 +02:00 [INF] Route matched with {action = "DeleteDepartment", controller = "Department", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteDepartment(Int32) on controller Hospital.Web.Api.DepartmentController (Hospital.Web).
2022-09-20 18:10:52.654 +02:00 [INF] Entity Framework Core 6.0.8 initialized 'PatientManagementContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: MigrationsAssembly=PatientManagement.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2022-09-20 18:10:52.739 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Description], [d].[Name]
FROM [Department] AS [d]
WHERE [d].[Id] = @__p_0
2022-09-20 18:10:52.746 +02:00 [INF] Executed action Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web) in 104.6554ms
2022-09-20 18:10:52.746 +02:00 [INF] Executed endpoint 'Hospital.Web.Api.DepartmentController.DeleteDepartment (Hospital.Web)'
2022-09-20 18:10:52.747 +02:00 [ERR] The entity of type Department with this identifier was not found.
PatientManagement.Core.Validators.Exceptions.EntityNotFoundException: The entity of type Department with this identifier was not found.
   at PatientManagement.Data.GenericRepository`1.DeleteAsync(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment.Data\GenericRepository.cs:line 33
   at PatientManagement.Core.CQRS.Department.Handlers.DeleteDepartmentCommandHandler.Handle(DeleteDepartmentCommand command, CancellationToken cancellationToken) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\CQRS\Department\Handlers\DeleteDepartmentCommandHandler.cs:line 22
   at PatientManagement.Core.Validators.PipelineValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\PatientManagment\Validators\PipelineValidationBehavior.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Hospital.Web.Api.DepartmentController.DeleteDepartment(Int32 id) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Web\Api\DepartmentController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hospital.Infrastructure.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\mmaat\OneDrive\Pulpit\PROGRAMOWANIE\Hospital\Hospital\src\Hospital.Infrastructure\Middleware\ExceptionHandlingMiddleware.cs:line 19
2022-09-20 18:10:52.749 +02:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:57678/api/Department/3213 - - - 404 - application/json 111.5353ms
